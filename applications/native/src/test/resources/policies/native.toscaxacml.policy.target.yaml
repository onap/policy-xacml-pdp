tosca_definitions_version: tosca_simple_yaml_1_1_0
topology_template:
  inputs: {}
  policies:
    - target.policy.set:
        type: onap.policies.native.ToscaXacml
        type_version: 1.0.0
        properties:
          policies:
            - properties:
                description: target example
                rules:
                  - target:
                      anyOne:
                        - allOf:
                            - key: input1
                              operator: integer-equal
                              value: 5
                    description: test rule
                    condition:
                      apply:
                        operator: double-greater-than-or-equal
                        keys:
                          - parameter1
                        compareWith:
                          value: 50
                    decision: Permit
                  - condition:
                      apply:
                        operator: double-greater-than-or-equal
                        keys:
                          - parameter1
                        compareWith:
                          key: parameter2
                    decision: Permit
                  - condition:
                      apply:
                        operator: double-greater-than-or-equal
                        keys:
                          - parameter1
                        compareWith:
                          apply:
                            operator: integer-to-double
                            keys:
                              - parameter3
                    decision: Permit
                  - decision: Deny
                    advice:
                      value: this is a default rule
              metadata:
                policy-id: compareWith.example.policy
                policy-version: 1.0.0
        name: target.policy.set
        version: 1.0.0
        metadata:
          action: check-compareWith-policy
          description: policy set for nested apply
          policy-id: target.policy.set
          policy-version: 1.0.0
name: ToscaServiceTemplateSimple
version: 1.0.0
